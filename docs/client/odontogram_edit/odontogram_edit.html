<!DOCTYPE html>

<html>
<head>
  <title>odontogram_edit.coffee</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="../docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>odontogram_edit.coffee</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>angular.<span class="hljs-built_in">module</span>(<span class="hljs-string">'dentaljs.odontogram_edit'</span>, [<span class="hljs-string">'ngRoute'</span>])

.config [<span class="hljs-string">'$routeProvider'</span>, <span class="hljs-function"><span class="hljs-params">($routeProvider)</span> -&gt;</span></pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>New URL</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  $routeProvider.<span class="hljs-keyword">when</span> <span class="hljs-string">'/patients/:slug/odontograms/new'</span>,
    templateUrl: <span class="hljs-string">'/partials/odontogram_edit/odontogram_edit.html'</span>
    controller: <span class="hljs-string">'OdontogramEditCtrl'</span></pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Edit URL</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  $routeProvider.<span class="hljs-keyword">when</span> <span class="hljs-string">'/patients/:slug/odontograms/:id/edit'</span>,
    templateUrl: <span class="hljs-string">'/partials/odontogram_edit/odontogram_edit.html'</span>
    controller: <span class="hljs-string">'OdontogramEditCtrl'</span>
]

.controller <span class="hljs-string">'OdontogramEditCtrl'</span>, [
  <span class="hljs-string">"$scope"</span>, <span class="hljs-string">"$routeParams"</span>, <span class="hljs-string">"$location"</span>, <span class="hljs-string">"Person"</span>, <span class="hljs-string">"Odontogram"</span>, <span class="hljs-string">"Issue"</span>
  ($scope, $routeParams, $location, Person, Odontogram, Issue) -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Get patient</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    $scope.patient = Person.get slug: $routeParams.slug</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <h2 id="issues-constants">Issues constants</h2>

            </div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <ol>
<li>Disease</li>
<li>Fix</li>
</ol>

            </div>
            
            <div class="content"><div class='highlight'><pre>    DISEASE = <span class="hljs-number">1</span>
    FIX = <span class="hljs-number">2</span></pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Get list of diseases</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    $scope.diseases = Issue.query type: <span class="hljs-number">1</span></pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>Get list of fixes</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    $scope.fixes =  Issue.query type: <span class="hljs-number">2</span>
    $scope.pieces = []</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>indicate if any sector is selected</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    $scope.sector_selected = <span class="hljs-literal">off</span></pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <h1 id="loading-odontogram-information">Loading odontogram information</h1>

            </div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>Loading colors in SVG based in odontogram information</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function">    <span class="hljs-title">load</span> = <span class="hljs-params">(odontogram)</span> -&gt;</span>
      $scope.title = odontogram.title
      $scope.comments = odontogram.comments
      <span class="hljs-keyword">if</span> odontogram.pieces?
        <span class="hljs-keyword">for</span> piece <span class="hljs-keyword">in</span> odontogram.pieces
          $scope.pieces[piece.id] = piece</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Show strikethough if teeth is missed</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          <span class="hljs-keyword">if</span> piece.removed
            strikethough = angular.element <span class="hljs-string">"#<span class="hljs-subst">#{piece.id}</span> .removed"</span>
            strikethough.show()</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>Show sectors with diseases or fixes</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          <span class="hljs-keyword">for</span> sector <span class="hljs-keyword">in</span> piece.sectors <span class="hljs-keyword">when</span> sector?
            elem = angular.element <span class="hljs-string">"#<span class="hljs-subst">#{piece.id}</span> #<span class="hljs-subst">#{sector.id}</span>"</span>
            elem.addClass <span class="hljs-string">'disease'</span> <span class="hljs-keyword">if</span> sector.issue.type <span class="hljs-keyword">is</span> DISEASE
            elem.addClass <span class="hljs-string">'fix'</span> <span class="hljs-keyword">if</span> sector.issue.type <span class="hljs-keyword">is</span> FIX</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>Get odontogram if I have its id</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> $routeParams.id?
      odontogram = Odontogram.get id: $routeParams.id, <span class="hljs-function">-&gt;</span>
        load odontogram</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <h1 id="attach-issue-to-teeth-">Attach issue to teeth.</h1>

            </div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>This issue could be a fix, a disease or a removed
teeth</p>
<h2 id="parameters-">Parameters:</h2>

            </div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <ul>
<li>issue.id: the teeth’s identification</li>
<li>issue.sector: the sector affected. it could be null if teeth is removed</li>
<li>issue.issue: the fix or disease</li>
<li>issue.removed: if teeth was removed</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>    $scope.attachIssue = <span class="hljs-function"><span class="hljs-params">(issue)</span> -&gt;</span></pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>if piece exists</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">if</span> $scope.pieces[issue.id]?
        piece = $scope.pieces[issue.id]</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>create a new piece</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">else</span>
        piece = id: issue.id, sectors: []
        $scope.pieces[issue.id] = piece
      piece.sectors[issue.sector] =
        id: issue.sector,
        issue: issue.issue <span class="hljs-keyword">if</span> issue.issue?
      <span class="hljs-keyword">if</span> issue.removed?
        piece.sectors = []</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>toggle remove attr</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        piece.removed = piece.removed <span class="hljs-keyword">isnt</span> <span class="hljs-literal">true</span></pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>when user clicks over a fix button, mark all selected sectors as fixed</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    $scope.setFix = <span class="hljs-function"><span class="hljs-params">(fix)</span> -&gt;</span></pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>get selected sectors</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      selected = $ <span class="hljs-string">'.selected'</span></pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>mark sectors as fixed</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      selected.each (index, elem) -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>XXX Replace parents</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        id = $(elem).closest(<span class="hljs-string">'.piece'</span>).attr(<span class="hljs-string">'id'</span>)</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>XXX Replace attr</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        sector = $(elem).attr(<span class="hljs-string">'id'</span>)
        $scope.attachIssue id: id, sector: sector, issue: fix</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>removed selected state</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      selected.removeClass()
              .addClass <span class="hljs-string">'sector fix'</span>
              .attr <span class="hljs-string">'title'</span>, fix.description</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>disable toolbar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      $scope.sector_selected = <span class="hljs-literal">false</span></pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>when user clicks over a disease button, mark all selected sectors as
diseased</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    $scope.setDisease = <span class="hljs-function"><span class="hljs-params">(disease)</span> -&gt;</span></pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>get selected sectors</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      selected = angular.element <span class="hljs-string">'.selected'</span></pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>mark sectors as disease</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      selected.each (index, elem) -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p>XXX replace closest</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        id = $(elem).closest(<span class="hljs-string">'.piece'</span>).attr(<span class="hljs-string">'id'</span>)</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p>XXX replace attr</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        sector = $(elem).attr(<span class="hljs-string">'id'</span>)
        $scope.attachIssue id: id, sector: sector, issue: disease</pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p>removed selected state</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      selected.removeClass()
              .addClass <span class="hljs-string">'sector disease'</span>
              .attr <span class="hljs-string">'title'</span>, disease.description</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p>disable toolbar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      $scope.sector_selected = <span class="hljs-literal">false</span></pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p>when user clicks over a removed button, mark all teeths selected as
removed</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    $scope.setRemoved = <span class="hljs-function"><span class="hljs-params">(id)</span> -&gt;</span></pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p>reset sectors
XXX findbyCssSelector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      $(<span class="hljs-string">"#<span class="hljs-subst">#{id}</span> .sector"</span>).removeClass().addClass(<span class="hljs-string">'sector'</span>).attr(<span class="hljs-string">'title'</span>, <span class="hljs-string">''</span>)</pre></div></div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <p>show/hide strikethough
XXX findbyCssSelector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      $(<span class="hljs-string">"#<span class="hljs-subst">#{id}</span> .removed"</span>).toggle()</pre></div></div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              <p>mark teeth as removed</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      $scope.attachIssue id: id, removed: <span class="hljs-literal">true</span></pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-39">&#182;</a>
              </div>
              <p>when user clicks over a clean button, clean selected sectors to default
value. If teeth is marked as removed, the mark will be clean</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    $scope.clean = <span class="hljs-function">-&gt;</span></pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-40">&#182;</a>
              </div>
              <p>get selected sectors
XXX findbyCssSelector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      selected = $ <span class="hljs-string">'.selected'</span></pre></div></div>
            
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-41">&#182;</a>
              </div>
              <p>reset sector marks</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      selected.each (index, elem) -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-42">&#182;</a>
              </div>
              <p>XXX replace closest</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        id = $(elem).closest(<span class="hljs-string">'.piece'</span>).attr(<span class="hljs-string">'id'</span>)</pre></div></div>
            
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-43">&#182;</a>
              </div>
              <p>XXX replace attr</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        sector = $(elem).attr(<span class="hljs-string">'id'</span>)
        <span class="hljs-keyword">delete</span> $scope.pieces[id].sectors[sector]</pre></div></div>
            
        </li>
        
        
        <li id="section-44">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-44">&#182;</a>
              </div>
              <p>reset widget appearance</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      selected.removeClass()
              .addClass(<span class="hljs-string">'sector'</span>)
              .attr(<span class="hljs-string">'title'</span>, <span class="hljs-string">''</span>)</pre></div></div>
            
        </li>
        
        
        <li id="section-45">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-45">&#182;</a>
              </div>
              <p>disable toolbar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      $scope.sector_selected = <span class="hljs-literal">false</span></pre></div></div>
            
        </li>
        
        
        <li id="section-46">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-46">&#182;</a>
              </div>
              <p>Build odontogram’s object for send to server</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    $scope.save = <span class="hljs-function">-&gt;</span>
      pieces = $scope.pieces.filter Boolean</pre></div></div>
            
        </li>
        
        
        <li id="section-47">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-47">&#182;</a>
              </div>
              <p>get id of issue instead of the object</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">for</span> piece <span class="hljs-keyword">in</span> pieces
        <span class="hljs-keyword">for</span> sector <span class="hljs-keyword">in</span> piece.sectors <span class="hljs-keyword">when</span> sector?
          sector.issue = sector.issue._id <span class="hljs-keyword">if</span> sector.issue?</pre></div></div>
            
        </li>
        
        
        <li id="section-48">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-48">&#182;</a>
              </div>
              <p>make odontogram object</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      odontogram = <span class="hljs-keyword">new</span> Odontogram
        pieces: pieces
        comments: $scope.comments
        title: $scope.title
        person: $scope.patient._id
      <span class="hljs-keyword">if</span> $routeParams.id?
        odontogram._id = $routeParams.id
        odontogram.$update().<span class="hljs-keyword">then</span> -&gt;
          toastr.success <span class="hljs-string">"Odontograma actualizado con éxito"</span>
          $location.path <span class="hljs-string">"/patients/<span class="hljs-subst">#{$scope.patient.slug}</span>/odontograms"</span>
      <span class="hljs-keyword">else</span>
        odontogram.$save().<span class="hljs-keyword">then</span> -&gt;
          toastr.success <span class="hljs-string">"Odontograma creado con éxito"</span>
          $location.path <span class="hljs-string">"/patients/<span class="hljs-subst">#{$scope.patient.slug}</span>/odontograms"</span></pre></div></div>
            
        </li>
        
        
        <li id="section-49">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-49">&#182;</a>
              </div>
              <p>Bindings for teeth’s sector click
XXX findbyCssSelector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    $(<span class="hljs-string">".sector"</span>)
      .<span class="hljs-literal">on</span> <span class="hljs-string">"click touchstart"</span>, <span class="hljs-function"><span class="hljs-params">(e)</span> -&gt;</span>
        e.preventDefault()</pre></div></div>
            
        </li>
        
        
        <li id="section-50">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-50">&#182;</a>
              </div>
              <p>XXX replace toogleClass</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        $(@).toggleClass(<span class="hljs-string">"selected"</span>)</pre></div></div>
            
        </li>
        
        
        <li id="section-51">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-51">&#182;</a>
              </div>
              <p>enable or disables toolbar
XXX findbyCssSelector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        $scope.sector_selected = $(<span class="hljs-string">".selected"</span>).length &gt; <span class="hljs-number">0</span>
        $scope.$apply()
      .<span class="hljs-literal">on</span> <span class="hljs-string">"touchmove"</span>, <span class="hljs-function"><span class="hljs-params">(e)</span> -&gt;</span>
        e.preventDefault()
]</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
